<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.5.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.5.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.5.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.5.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="耀敬业">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="耀敬业">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="耀敬业">






  <link rel="canonical" href="http://yoursite.com/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>耀敬业</title>
  











  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">耀敬业</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/19/2018-11-19-NSOperationQueue-线程同步/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/11/19/2018-11-19-NSOperationQueue-线程同步/" class="post-title-link" itemprop="http://yoursite.com/index.html">NSOperationQueue 线程同步</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-19 00:00:00" itemprop="dateCreated datePublished" datetime="2018-11-19T00:00:00+08:00">2018-11-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-11-21 16:38:53" itemprop="dateModified" datetime="2018-11-21T16:38:53+08:00">2018-11-21</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="NSOperationQueue-线程同步"><a href="#NSOperationQueue-线程同步" class="headerlink" title="NSOperationQueue 线程同步"></a>NSOperationQueue 线程同步</h1><p>###前序:</p>
<blockquote>
<p>在iOS12.1上出现了一个, 再通知拓展里所有的语音播放功能都实现, 没有声音, 在一个需要实现语音播报的App上, 这个bug是相当致命的. 由此引申出一个解决方案, 就是通过一段固定的音频进行自定义铃声,从而实现语音播报的功能. 但是从中遇到了一个问题, 就是手机在锁屏时, 当有几个推送但是到达手机时, 几个铃声就会造成声音重叠, 完全听不出有几条推送信息. 对于收款语音播报功能来说, 这不是很友好的. 于是, 有什么方法可以操纵这个铃声播报, 让一条铃声播完再播另一条铃声的吗? 方法当然是有的, 那就是<strong>队列</strong>.</p>
</blockquote>
<p>在操纵队列上, 选择了NSOperationQueue、NSOperation, 它们是GCD更高一层的封装.</p>
<h3 id="NSOperation、NSOperationQueue使用步骤"><a href="#NSOperation、NSOperationQueue使用步骤" class="headerlink" title="NSOperation、NSOperationQueue使用步骤"></a>NSOperation、NSOperationQueue使用步骤</h3><ul>
<li>创建Opertion: 先将需要执行的操作封装到一个NSOperation对象中</li>
<li>创建Queue: 创建NSOperationQueue对象</li>
<li>将操作对象添加到队列中:将NSOperation对象添加到NSOperationQueue对象中</li>
<li>系统会自动将NSOperationQueue中NSOperation取出, 在新线程中执行</li>
</ul>
<h4 id="创建Operation"><a href="#创建Operation" class="headerlink" title="创建Operation"></a>创建Operation</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (NSOperation *)customOperation:(NSString *)content &#123;</span><br><span class="line">    NSBlockOperation *operation = [NSBlockOperation blockOperationWithBlock:^&#123;</span><br><span class="line">        NSString *soundFilePath = [[NSBundle mainBundle] pathForResource:@&quot;sound&quot; ofType:@&quot;wav&quot;]; //音频文件路径</span><br><span class="line">        NSURL *soundURL = [NSURL fileURLWithPath:soundFilePath];</span><br><span class="line">        SystemSoundID soundID;</span><br><span class="line">        AudioServicesCreateSystemSoundID((__bridge CFURLRef)soundURL, &amp;soundID);</span><br><span class="line">        AudioServicesPlaySystemSound(soundID);</span><br><span class="line">        NSLog(@&quot;%@&quot;, content);</span><br><span class="line">        AudioServicesPlaySystemSoundWithCompletion(soundID, ^&#123;</span><br><span class="line">            NSLog(@&quot;%@:finish&quot;, content);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    return operation;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="创建NSOperationQueue"><a href="#创建NSOperationQueue" class="headerlink" title="创建NSOperationQueue"></a>创建NSOperationQueue</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-(NSOperationQueue *)aQueue&#123;</span><br><span class="line">    if (_aQueue == nil) &#123;</span><br><span class="line">        _aQueue = [[NSOperationQueue alloc]init];</span><br><span class="line">        [_aQueue setMaxConcurrentOperationCount:1]; //设置最大并发线程为1</span><br><span class="line">    &#125;</span><br><span class="line">    return _aQueue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="添加操作到队列"><a href="#添加操作到队列" class="headerlink" title="添加操作到队列"></a>添加操作到队列</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">NSOperation *op1 = [self customOperation:@&quot;佰兹壹到账一笔:1&quot;];</span><br><span class="line">NSOperation *op2 = [self customOperation:@&quot;佰兹壹到账一笔:2&quot;];</span><br><span class="line">NSOperation *op3 = [self customOperation:@&quot;佰兹壹到账一笔:3&quot;];</span><br><span class="line">NSOperation *op4 = [self customOperation:@&quot;佰兹壹到账一笔:4&quot;];</span><br><span class="line">[op4 addDependency:op3]; //添加依赖</span><br><span class="line">[op3 addDependency:op2];</span><br><span class="line">[op2 addDependency:op1];</span><br><span class="line">[self.aQueue addOperation:op1];</span><br><span class="line">[self.aQueue addOperation:op2];</span><br><span class="line">[self.aQueue addOperation:op3];</span><br><span class="line">[self.aQueue addOperation:op4];</span><br></pre></td></tr></table></figure>
<h4 id="结果如下"><a href="#结果如下" class="headerlink" title="结果如下:"></a>结果如下:</h4><p><img src="/img/NSOperationQueue/2018-11-19-01.png" alt=""></p>
<p>由上面的结果我们可以看出执行的先后顺序是op1、op2、op3、ope4, 没有达到我们想要的效果, 我们是想一条播报完成再播报下一条的, 因为这是一个串行队列, 我们试下给队列设置<strong>暂停和恢复</strong>操作. </p>
<h4 id="创建Operation时添加队列暂停和恢复"><a href="#创建Operation时添加队列暂停和恢复" class="headerlink" title="创建Operation时添加队列暂停和恢复"></a>创建Operation时添加队列暂停和恢复</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">- (NSOperation *)customOperation:(NSString *)content &#123;</span><br><span class="line">    NSBlockOperation *operation = [NSBlockOperation blockOperationWithBlock:^&#123;</span><br><span class="line">        [self.aQueue setSuspended:YES];  //暂停队列</span><br><span class="line">        NSString *soundFilePath = [[NSBundle mainBundle] pathForResource:@&quot;sound&quot; ofType:@&quot;wav&quot;]; //音频文件路径</span><br><span class="line">        NSURL *soundURL = [NSURL fileURLWithPath:soundFilePath];</span><br><span class="line">        SystemSoundID soundID;</span><br><span class="line">        AudioServicesCreateSystemSoundID((__bridge CFURLRef)soundURL, &amp;soundID);</span><br><span class="line">        AudioServicesPlaySystemSound(soundID);</span><br><span class="line">        NSLog(@&quot;%@&quot;, content);</span><br><span class="line">        AudioServicesPlaySystemSoundWithCompletion(soundID, ^&#123;</span><br><span class="line">            [self.aQueue setSuspended:NO]; //恢复队列</span><br><span class="line">            NSLog(@&quot;%@:finish&quot;, content);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    return operation;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>最总结果</strong></p>
<p><img src="/img/NSOperationQueue/2018-11-19-02.png" alt=""></p>
<p>从上面结果可以看出, 这次已经可以实现我们想要的效果了, 播完一条再播下一条.</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://blog.csdn.net/spicyshrimp/article/details/70845822" target="_blank" rel="noopener">iOS简单优雅的实现复杂情况下的串行需求(各种锁、GCD 、NSOperationQueue…)
</a><br><a href="https://www.jianshu.com/p/4b1d77054b35" target="_blank" rel="noopener">iOS 多线程：『NSOperation、NSOperationQueue』详尽总结
</a></p>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/05/iOS-自定义转场效果/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/11/05/iOS-自定义转场效果/" class="post-title-link" itemprop="http://yoursite.com/index.html">Untitled</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-05 18:50:48" itemprop="dateCreated datePublished" datetime="2018-11-05T18:50:48+08:00">2018-11-05</time>
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="iOS-自定义转场效果"><a href="#iOS-自定义转场效果" class="headerlink" title="iOS-自定义转场效果"></a>iOS-自定义转场效果</h1><p><strong>转场动画我们常用的就是<code>push</code>、<code>pop</code>、<code>present</code>、<code>dismiss</code>四种动画</strong>.</p>
<h3 id="PUSH动画"><a href="#PUSH动画" class="headerlink" title="PUSH动画"></a>PUSH动画</h3><p>push动画需要配合<code>navigationController</code>来使用, 所以需要<code>UINavigationControllerDelegate</code></p>
<p>如下为需要用到的<code>UINavigationControlloerDelegate</code>的函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (nullable id &lt;UIViewControllerInteractiveTransitioning&gt;)navigationController:(UINavigationController *)navigationController</span><br><span class="line">                          interactionControllerForAnimationController:(id &lt;UIViewControllerAnimatedTransitioning&gt;) animationController NS_AVAILABLE_IOS(7_0);</span><br><span class="line"></span><br><span class="line">- (nullable id &lt;UIViewControllerAnimatedTransitioning&gt;)navigationController:(UINavigationController *)navigationController</span><br><span class="line">                                   animationControllerForOperation:(UINavigationControllerOperation)operation</span><br><span class="line">                                                fromViewController:(UIViewController *)fromVC</span><br><span class="line">                                                  toViewController:(UIViewController *)toVC  NS_AVAILABLE_IOS(7_0);</span><br></pre></td></tr></table></figure>
<p>上面两个函数的返回值分别是:<code>UIViewControllerInteractiveTransitioning</code>、<code>UIViewControllerAnimatedTransitioning</code></p>
<p><strong>UIViewControllerAnimationedTransitioning</strong><br>这个类有两个函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//转场时间</span><br><span class="line">- (NSTimeInterval)transitionDuration:(nullable id &lt;UIViewControllerContextTransitioning&gt;)transitionContext;</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">- (void)animateTransition:(id &lt;UIViewControllerContextTransitioning&gt;)transitionContext;</span><br></pre></td></tr></table></figure>
<p>第一个函数通过返回<code>NSTimeInterval</code>可以知道这个函数就是转场时间<br>第二个函数有个新的类<code>UIViewControllerContextTransitioning</code></p>
<p><strong>UIViewControllerContextTransitioning</strong><br>这个类是自定义转场动画的核心:转场动画的上下文</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//转场动画的容器</span><br><span class="line">@property(nonatomic, readonly) UIView *containerView;</span><br><span class="line"></span><br><span class="line">//通过对用的 key 可以获得我们需要的 VC</span><br><span class="line">- (nullable __kindof UIViewController *)viewControllerForKey:(UITransitionContextViewControllerKey)key;</span><br><span class="line"></span><br><span class="line">//转场动画完成时调用, 否则无效</span><br><span class="line">- (void)completeTransition:(BOOL)didComplete;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/10/2018-10-10-iOS之图片缓存/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/10/2018-10-10-iOS之图片缓存/" class="post-title-link" itemprop="http://yoursite.com/index.html">Untitled</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-10 09:51:38 / Modified: 09:57:30" itemprop="dateCreated datePublished" datetime="2018-10-10T09:51:38+08:00">2018-10-10</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="图片缓存"><a href="#图片缓存" class="headerlink" title="图片缓存"></a>图片缓存</h1><h3 id="网络图片缓存的步骤"><a href="#网络图片缓存的步骤" class="headerlink" title="网络图片缓存的步骤:"></a>网络图片缓存的步骤:</h3><ul>
<li>1.更具图片URL查找内存是否存在这张图片, 有则返回图片, 没有则进入第二步:</li>
<li>2.</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/18/2018-09-18-iOS性能优化/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/18/2018-09-18-iOS性能优化/" class="post-title-link" itemprop="http://yoursite.com/index.html">iOS 性能优化</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-18 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-18T00:00:00+08:00">2018-09-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-11-21 16:47:30" itemprop="dateModified" datetime="2018-11-21T16:47:30+08:00">2018-11-21</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="iOS-性能优化"><a href="#iOS-性能优化" class="headerlink" title="iOS 性能优化"></a>iOS 性能优化</h1><h3 id="优化什么"><a href="#优化什么" class="headerlink" title="优化什么"></a>优化什么</h3><ul>
<li>列表顺畅度优化</li>
<li>启动时间优化</li>
<li>内容优化</li>
</ul>
<h3 id="理解优化任务的底层运行机制"><a href="#理解优化任务的底层运行机制" class="headerlink" title="理解优化任务的底层运行机制"></a>理解优化任务的底层运行机制</h3><p>如果不理解优化任务的底层运行机制, 可能很难达到更好的优化效果.</p>
<p>比如做启动时间优化时, 如果不知道 iOS 中 App 的启动时间是由 main 之前和 main 之后两部分时间组成的, 此时如果你的 App 是因为 main 函数之前的部分占用了过多的启动时间, 可能你花了大量精力去优化 main 之后的时间却没有达到好的优化效果. 如果不知道 App 启动过程的运行机制, 就无法知道去检查是否链接了过多的自定义的动态库或者去 load 函数里面确认是否有耗时的操作等等. 还有在做 fps 优化的时候, 如果不了解卡顿的底层是什么、一个 view 从创建到显示过程中经历哪些步骤、CPU 和 GPU 在这个过程中扮演了什么角色, 则很难做到丝滑般的顺畅. 还有在做内容优化的时候, 如果不了解内容分为哪几类、系统对 App 和不同类型 extension 的内存限制机制的不同、超过限制系统会采取什么操作等等, 也很难把内容优化做好. 只有深入了解底层机制才能更好地有针对性地提出更优的解决方案.</p>
<h3 id="优化技巧"><a href="#优化技巧" class="headerlink" title="优化技巧"></a>优化技巧</h3><p><strong>1. view 优化</strong></p>
<ul>
<li>1.1 不透明的 view 设置 opaque.</li>
<li>1.2 根据实际情况重用、延时加载或预加载 view</li>
<li>1.3 减少subview数量, 定制复杂 cell 使用 drawRect, 尽量使用drawRect 而不是 layoutSuvView.</li>
<li>1.4 不直接调用drawRect、layoutSubView 方法, 万不得已时可以用替代方法: setNeedsDisplayInRect, layountIfNeeded, 替代方法也尽量不要调用.</li>
</ul>
<p><strong>2. UITableView 优化</strong></p>
<ul>
<li>2.1 正确使用 reuseIdentifier 重用 cell.</li>
<li>2.2 尽量使所有的view opque.</li>
<li>2.3 减少 subviews 数量, 定制复杂的 cell 使用 drawRect.</li>
<li>2.4 尽量不调用 cellForRowAtIndexPath, 调用 cellForRowAtIndexpath 会导致 cell 缓存失败.</li>
<li>2.5 cache 尽可能多的东西, 包括行高.</li>
</ul>
<p><strong>3. 缓存优化</strong></p>
<ul>
<li>3.1 缓存不大可能改变但是需要经常读取的东西, 如: 远端服务器的响应、图片、计算结果.</li>
<li>3.2 重大开销对象, 对于初始化很慢的对象通过添加属性的方式保持该对象, 保证只初始化一次, 多次复用, 如: NSDataFormatter.</li>
<li>3.3 方法指针缓存, 如果一个方法在一个循环次数非常多的循环中使用, 在进入循环前使用methodForSelector获取该方法的IMP, 在循环体直接调用该IMP.</li>
</ul>
<p><strong>4.线程优化</strong></p>
<ul>
<li>4.1 耗时操作使用子线程进行, 或者放入任务列表中.</li>
<li>4.2 同步使用串行队列替代同步锁.</li>
<li>4.3 不重要的任务放在 idle 中运行.</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/28/2018-08-28-读书笔记《大话数据结构》/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/28/2018-08-28-读书笔记《大话数据结构》/" class="post-title-link" itemprop="http://yoursite.com/index.html">《大话数据结构》读书笔记</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-08-28 00:00:00" itemprop="dateCreated datePublished" datetime="2018-08-28T00:00:00+08:00">2018-08-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-11-21 16:49:33" itemprop="dateModified" datetime="2018-11-21T16:49:33+08:00">2018-11-21</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>趁着公司App上线后的一段空档时间, 自己需要看看书充下电了. 自己平时看书没有做笔记的习惯, 很多时候看过的书过一段就会忘记了. 正所谓‘好记性不如烂笔头’, 现在看《大话数据结构》一书, 并且做读书笔记.</p>
</blockquote>
<h2 id="阅读目录摘要"><a href="#阅读目录摘要" class="headerlink" title="阅读目录摘要"></a>阅读目录摘要</h2><blockquote>
<h5 id="第一章-数据结构绪论"><a href="#第一章-数据结构绪论" class="headerlink" title="第一章 数据结构绪论"></a>第一章 数据结构绪论</h5><h5 id="第二章-算法"><a href="#第二章-算法" class="headerlink" title="第二章 算法"></a>第二章 算法</h5><h5 id="第三章-线性表"><a href="#第三章-线性表" class="headerlink" title="第三章 线性表"></a>第三章 线性表</h5><h5 id="第四章-栈与队列"><a href="#第四章-栈与队列" class="headerlink" title="第四章 栈与队列"></a>第四章 栈与队列</h5><h5 id="第五章-串"><a href="#第五章-串" class="headerlink" title="第五章 串"></a>第五章 串</h5><h5 id="第六章-树"><a href="#第六章-树" class="headerlink" title="第六章 树"></a>第六章 树</h5><h5 id="第七章-图"><a href="#第七章-图" class="headerlink" title="第七章 图"></a>第七章 图</h5><h5 id="第八章-查找"><a href="#第八章-查找" class="headerlink" title="第八章 查找"></a>第八章 查找</h5><h5 id="第九章-排列"><a href="#第九章-排列" class="headerlink" title="第九章 排列"></a>第九章 排列</h5></blockquote>
<h3 id="第一章-数据结构绪论-1"><a href="#第一章-数据结构绪论-1" class="headerlink" title="第一章 数据结构绪论"></a>第一章 数据结构绪论</h3><h4 id="1-1基本概念和术语"><a href="#1-1基本概念和术语" class="headerlink" title="1.1基本概念和术语"></a>1.1基本概念和术语</h4><p><strong>数据: 是描述客观事物的符号, 是计算机中可以操作的对象, 是能被计算机识别, 并输入给计算机处理的符号集合.</strong> 数据不仅仅包括整型、实型等数值类型, 还包括字符及声音、图像、视频等非数值类型.</p>
<p><strong>数据元素:</strong> 是组成数据的、有一定意义的基本单位, 在计算机中通常作为整体处理, 也被称为记录.</p>
<p><strong>数据项:</strong> 一个数据元素可以由若干个数据项组成. 数据项是数据不可分割的最小单位.</p>
<p><strong>数据对象:</strong> 是性质相同的数据元素的集合, 是数据的子集.</p>
<p><strong>数据结构:</strong> 是相互之间存在一种或多种特定关系的数据元素的集合.</p>
<h4 id="1-2逻辑结构和物理结构"><a href="#1-2逻辑结构和物理结构" class="headerlink" title="1.2逻辑结构和物理结构"></a>1.2逻辑结构和物理结构</h4><p><strong>逻辑结构:</strong> 是指数据对象中数据元素之间的相互关系.有四种:</p>
<ul>
<li><strong>集合结构:</strong> 集合结构中的数据元素除了同属一个集合外, 它们之间没有其他关系.</li>
<li><strong>线性结构:</strong> 线性结构中的数据元素之间是一对一的关系.</li>
<li><strong>树形结构:</strong> 树形结构中数据元素之间存在一对多的层次关系.</li>
<li><strong>图形结构:</strong> 图形结构的数据元素是多对多的关系.</li>
</ul>
<p><strong>物理结构:</strong> 是指数据的逻辑结构在计算机中的存储形式.有<strong>两种:</strong></p>
<ul>
<li><strong>顺序存储结构:</strong> 是把元素存放在地址连续的存储单元里, 其数据间的逻辑关系和物理关系是一致的.(如数组)</li>
<li><strong>链式存储结构:  是把数据元素存放在任意的存储单元里, 这组存储单元可以连续的, 也可以不连续的. </strong>数据元素的存储关系并不能反映其逻辑关系, 因此需要用一个指针存放数据元素的地址, 这样通过地址可以照相关联数据元素的位置.</li>
</ul>
<h4 id="1-3抽象数据类型"><a href="#1-3抽象数据类型" class="headerlink" title="1.3抽象数据类型"></a>1.3抽象数据类型</h4><p><strong>数据类型: 是指一组性质相同的值的集合及定义在此集合上的一些操作的总称.</strong> 在 C 语言中, 按取值的不同, 数据类型可以分为两种:</p>
<ul>
<li><strong>原子类型:</strong> 是不可以再分解的基本类型, 包括整型、实型、字符型等.</li>
<li><strong>结构类型:</strong> 由若干个类型组合而成, 是可以分解的. 如: 整型数组是由若干整型数据组成的.</li>
</ul>
<p><strong>抽象数据类型(Abstract Data Type, ADT):</strong> 是指一个数学类型及定义在该模型上的一组操作.</p>
<h2 id="第二章-算法-1"><a href="#第二章-算法-1" class="headerlink" title="第二章 算法"></a>第二章 算法</h2><blockquote>
<p><strong>算法:</strong> 是解决特定问题求解步骤的描述, 在计算机中表现为指令的有限序列, 并且每条指令表示一个或多个操作.</p>
</blockquote>
<p><strong>算法的特性:</strong></p>
<ul>
<li><strong>输入:</strong> 算法具有零个或多个输入.</li>
<li><strong>输出:</strong> 算法具有零个或多个输出.</li>
<li><strong>有穷性</strong> 算法在执行有限的步骤后, 自动结束而不会出现无限循环, 并且一个步骤在可接受的时间内完成.</li>
<li><strong>确定性:</strong> 算法的每一步骤都具有确定的含义, 不会出现二义性.</li>
<li><strong>可行性:</strong> 算法每一步都必须是可行的, 也就是说, 没一步都能通过执行有限数完成<br>*</li>
</ul>
<p><strong>判断一个算法的效率时, 函数中的常数和其他次项常常可以忽略, 而更应该关注主项(最高阶项)的阶数.</strong></p>
<h4 id="2-1-算法时间复杂度"><a href="#2-1-算法时间复杂度" class="headerlink" title="2.1 算法时间复杂度"></a>2.1 算法时间复杂度</h4><blockquote>
<p><strong>时间复杂度:</strong> 在进行算法分析时, 语句总的执行次数 T(n) 是关于问题规模 n 的函数, 进而分析 T(n) 随 n 的变化情况并确定 T(n) 的数量级. 算法的时间复杂度, 也就是算法的时间量度, 记作: T(n) = O(f(n)). 它表示随问题规模 n 的增大, 算法执行时间的增长率和 f(n) 的增长率相同, 称作算法的渐近复杂度, 简称为时间复杂度. 其中 f(n) 是问题规模 n 的某个函数.</p>
</blockquote>
<p><strong>一般情况下, 随着 n 的增大, T(n) 增长最慢的算法为最优算法.</strong></p>
<h4 id="推导大-O-阶"><a href="#推导大-O-阶" class="headerlink" title="推导大 O 阶:"></a>推导大 O 阶:</h4><ul>
<li>用常数1取代运行时间中的所有加法常数</li>
<li>在修改后的运行次数函数中, 只保留最高阶项</li>
<li>如果最高阶项存在且不是1, 则去除与这个项相乘的常数.</li>
</ul>
<p>常用的时间复杂度所耗费的时间从小到大依次是:<br><code>O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n^2) &lt; O(n^3) &lt; O(2^n) &lt; O(n!) &lt; O(n^n)</code></p>
<h4 id="2-2-空间复杂度"><a href="#2-2-空间复杂度" class="headerlink" title="2.2 空间复杂度"></a>2.2 空间复杂度</h4><blockquote>
<p>算法的空间复杂度通过计算算法所需的存储空间实现, 算法空间复杂度的计算公式记作: S(n) = O(f(n)), 其中 n 为问题的规模, f(n) 为语句关于 n 所占存储空间的函数.</p>
</blockquote>
<h2 id="第三章-线性表-1"><a href="#第三章-线性表-1" class="headerlink" title="第三章 线性表"></a>第三章 线性表</h2><blockquote>
<p>零个或多个数据元素的有限序列.</p>
</blockquote>
<hr>
<p><strong>线性表的顺序存储结构, 指的是用一段地址连续的存储单元依次存储线性表的数据元素.</strong></p>
<h4 id="3-1数据长度与线性表长度的区别"><a href="#3-1数据长度与线性表长度的区别" class="headerlink" title="3.1数据长度与线性表长度的区别"></a>3.1数据长度与线性表长度的区别</h4><ul>
<li><strong>数组长度:</strong> 是指存放线性表的存储空间的长度, 存储分配后这个量一般是不变的.</li>
<li><strong>线性表长度:</strong> 是指线性表中数据元素的个数, 随着线性表插入和删除操作的进行, 这个量是变化的.</li>
</ul>
<p><strong>任何时刻, 线性表的长度应该小于等于数组的长度.</strong></p>
<h4 id="3-2线性表顺序存储结构的优缺点"><a href="#3-2线性表顺序存储结构的优缺点" class="headerlink" title="3.2线性表顺序存储结构的优缺点"></a>3.2线性表顺序存储结构的优缺点</h4><ul>
<li><p><strong>优点:</strong></p>
<ul>
<li>无须为表示表中元素之间的逻辑关系而增加额外的存储空间</li>
<li>可以快速存取表中任一位置的元素</li>
</ul>
</li>
<li><p><strong>缺点:</strong></p>
<ul>
<li>插入和删除操作需要移动大量元素</li>
<li>当线性长度变化较大时, 难以确定存储空间的容量</li>
<li>造成存储空间的 “碎片”</li>
</ul>
</li>
</ul>
<h4 id="3-3-线性表的链式存储结构"><a href="#3-3-线性表的链式存储结构" class="headerlink" title="3.3 线性表的链式存储结构"></a>3.3 线性表的链式存储结构</h4><blockquote>
<p>解决线性表顺序存储结构插入和删除时需要移动大量元素耗费时间的缺点.</p>
</blockquote>
<p>在顺序结构中, 每个数据元素只需要存数据元素信息就可以了, 现在链式结构中, 除了需要存储数据元素信息外, 还需要存储它的后继元素的存储地址.</p>
<p><strong>头指针与头结点的异同:</strong></p>
<ul>
<li><p><strong>头指针:</strong></p>
<ul>
<li>头指针式指链表指向第一个结点的指针, 若链表有头结点, 则是指向头结点的指针</li>
<li>头指针具有表识作用, 所以常用头指针冠以链表的名字</li>
<li>无论链表是否为空, 头指针均不为空. 头指针是链表的必要元素</li>
</ul>
</li>
<li><p><strong>头结点:</strong></p>
<ul>
<li>头结点是为了操作的统一和方便而设立的, 放在第一元素的结点前, 其数据域一般无意义(也可以存放链表的长度)</li>
<li>有了结点, 对在第一元素结点前插入结点和删除第一结点, 其操作与其它结点的操作就统一了.</li>
<li>头结点不一定是链表必须要素</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/27/2018-08-27-iOS之NSDictionary的底层实现/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/27/2018-08-27-iOS之NSDictionary的底层实现/" class="post-title-link" itemprop="http://yoursite.com/index.html">iOS之NSDictionary的底层实现</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-08-27 00:00:00 / Modified: 18:33:43" itemprop="dateCreated datePublished" datetime="2018-08-27T00:00:00+08:00">2018-08-27</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="iOS之NSDictionary的底层实现"><a href="#iOS之NSDictionary的底层实现" class="headerlink" title="iOS之NSDictionary的底层实现"></a>iOS之NSDictionary的底层实现</h1><h2 id="NSDictionary使用原理"><a href="#NSDictionary使用原理" class="headerlink" title="NSDictionary使用原理"></a>NSDictionary使用原理</h2><ul>
<li><strong>NSDictionary</strong> 是使用 <strong>hash</strong> 表来实现 <strong>key</strong> 和 <strong>value</strong>, <strong>hash</strong> 函数设计的好坏影响着数据的查找访问速率.</li>
<li><strong>Objective-C</strong> 中的字典 <strong>NSDictionary</strong> 底层是一个哈希表, 实际上绝大多数语言中的字典都是通过哈希表实现.</li>
</ul>
<h2 id="哈希的原理"><a href="#哈希的原理" class="headerlink" title="哈希的原理"></a>哈希的原理</h2><blockquote>
<p>哈希表的本质是一个数组, 数组中每一个元素称为一个箱子(<strong>bing</strong>), 箱子中存放的是键值对.</p>
</blockquote>
<h2 id="哈希表的存储过程"><a href="#哈希表的存储过程" class="headerlink" title="哈希表的存储过程"></a>哈希表的存储过程</h2><ul>
<li>根据 <strong>key</strong> 计算出它的哈希值 h</li>
<li>假设箱子的个数为 n, 那么这个键值对应该放在第(<strong>h%n</strong>)个箱子中</li>
<li>假如该箱子中已经有了键值对, 就是用开放寻址法或拉链法解决冲突</li>
</ul>
<p>在使用拉链法解决哈希冲突时, 每个箱子其实是一个链表, 属于同一个箱子的所有键值对都会排列在链表中.</p>
<h3 id="链表实现数组"><a href="#链表实现数组" class="headerlink" title="链表实现数组"></a>链表实现数组</h3><p><strong>.h文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface YJYLinkedArray : NSObject</span><br><span class="line"></span><br><span class="line">@property(assign,nonatomic) NSUInteger size; //数组长度</span><br><span class="line"></span><br><span class="line">-(void)addObject:(NSObject *)obj;            //添加元素</span><br><span class="line"></span><br><span class="line">-(void)remove:(NSObject *)obj;               // 移除指定元素</span><br><span class="line"></span><br><span class="line">-(void)removeAtIndext:(NSInteger)index;      //移除制定索引元素</span><br><span class="line"></span><br><span class="line">-(NSObject *)objectAtIndex:(NSInteger)index; //获取指定位置的元素</span><br><span class="line"></span><br><span class="line">+(instancetype)array;                        //数组初始化</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@interface Node : NSObject</span><br><span class="line"></span><br><span class="line">@property(strong,nonatomic) Node  *previous;  //上个节点</span><br><span class="line"></span><br><span class="line">@property(strong,nonatomic) Node  *next;      //下个节点</span><br><span class="line"></span><br><span class="line">@property(strong,nonatomic) id     content;   //当前节点内容</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<p><strong>.m文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;YJYLinkedArray.h&quot;</span><br><span class="line"></span><br><span class="line">@interface YJYLinkedArray ()</span><br><span class="line"></span><br><span class="line">@property(strong,nonatomic) Node  *first; //首个节点</span><br><span class="line">@property(strong,nonatomic) Node  *last;  //最后节点</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation YJYLinkedArray</span><br><span class="line"></span><br><span class="line">-(void)addObject:(NSObject *)obj&#123;</span><br><span class="line">    if (!obj) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    _size ++;</span><br><span class="line">    </span><br><span class="line">    Node *node = [[Node alloc]init];</span><br><span class="line">    //首个节点为空</span><br><span class="line">    if (!_first) &#123;</span><br><span class="line">        _first = node;</span><br><span class="line">        _last = node;</span><br><span class="line">        node.previous = nil;</span><br><span class="line">        node.next = nil;</span><br><span class="line">        node.content = obj;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    //数组中有值</span><br><span class="line">    node.previous = _last;</span><br><span class="line">    node.next = nil;</span><br><span class="line">    node.content = obj;</span><br><span class="line">    _last = node;</span><br><span class="line">    _last.next = node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(void)remove:(NSObject *)obj&#123;</span><br><span class="line">    if (!obj || !_size) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Node *tmpNode = _first;</span><br><span class="line">    for (NSInteger index = 0; index &lt; _size; index ++) &#123;</span><br><span class="line">        if ([tmpNode.content isEqual:obj]) &#123;</span><br><span class="line">            [self removeNode:tmpNode]; //移除节点</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(void)removeAtIndext:(NSInteger)index&#123;</span><br><span class="line">    if (index &lt; 0 || index &gt;= _size) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Node *tmpNode = _first;</span><br><span class="line">    for (NSInteger i = 0; i &lt; _size; i ++) &#123;</span><br><span class="line">        if (i == index) &#123;</span><br><span class="line">            [self removeNode:tmpNode];</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">        tmpNode = tmpNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(NSObject *)objectAtIndex:(NSInteger)index&#123;</span><br><span class="line">    </span><br><span class="line">    if (index &lt; 0 || index &gt;= _size) &#123;</span><br><span class="line">        return nil;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Node *tmpNode = _first;</span><br><span class="line">    for (NSInteger i = 0 ; i &lt; _size; i++) &#123;</span><br><span class="line">        if (i == index) &#123;</span><br><span class="line">            return tmpNode.content;</span><br><span class="line">        &#125;</span><br><span class="line">        tmpNode = tmpNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(void)removeNode:(Node *)node&#123;</span><br><span class="line">    Node *preNode = node.previous;</span><br><span class="line">    Node *nextNode = node.next;</span><br><span class="line">    preNode.next = nextNode;</span><br><span class="line">    nextNode.previous = preNode;</span><br><span class="line">    node.content = nil;</span><br><span class="line">    _size --;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+(instancetype)array&#123;</span><br><span class="line">    return [[self alloc]init];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@implementation Node</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<h2 id="自定义字典类"><a href="#自定义字典类" class="headerlink" title="自定义字典类"></a>自定义字典类</h2><p><strong>.h文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface YJYDictionary : NSObject</span><br><span class="line"></span><br><span class="line">+(instancetype)dictionary;</span><br><span class="line"></span><br><span class="line">-(void)setValue:(id)value forKey:(NSString *)key;</span><br><span class="line">-(id)valueForKey:(NSString *)key;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<p><strong>.m文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;YJYDictionary.h&quot;</span><br><span class="line">#import &quot;YJYLinkedArray.h&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@interface KeyValueCache : NSObject</span><br><span class="line"></span><br><span class="line">@property(strong,nonatomic) NSString  *key;</span><br><span class="line">@property(strong,nonatomic) id  value;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation KeyValueCache</span><br><span class="line"></span><br><span class="line">+ (instancetype)key:(NSString *)key value:(id)value&#123;</span><br><span class="line">    KeyValueCache *model = [[self alloc]init];</span><br><span class="line">    model.key = key;</span><br><span class="line">    model.value = value;</span><br><span class="line">    return model;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@interface YJYDictionary ()</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation YJYDictionary</span><br><span class="line">&#123;</span><br><span class="line">    YJYLinkedArray *_keyValues[999];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//赋值</span><br><span class="line"></span><br><span class="line">-(void)setValue:(id)value forKey:(NSString *)key&#123;</span><br><span class="line">    </span><br><span class="line">    //获取hashCode</span><br><span class="line">    </span><br><span class="line">    NSUInteger hash = key.hash;</span><br><span class="line">    </span><br><span class="line">    //默认一个对象占用8个字节</span><br><span class="line">    </span><br><span class="line">    NSUInteger realCode = hash%(sizeof(_keyValues)/8);</span><br><span class="line">    </span><br><span class="line">    YJYLinkedArray *linkArr = _keyValues[realCode];</span><br><span class="line">    if (linkArr) &#123;//如果存在链表数组</span><br><span class="line">        </span><br><span class="line">        for (NSInteger index = 0; index &lt; linkArr.size; index ++) &#123;</span><br><span class="line">            KeyValueCache *keyvalue = (KeyValueCache *)[linkArr objectAtIndex:index];</span><br><span class="line">            if ([keyvalue.key isEqualToString:key]) &#123;</span><br><span class="line">                keyvalue.value = value; //重新赋值value</span><br><span class="line">                </span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        KeyValueCache *newKeyValue = [KeyValueCache key:key value:value];</span><br><span class="line">        [linkArr addObject:newKeyValue];</span><br><span class="line">    </span><br><span class="line">    &#125;else&#123;//不存在链表数组</span><br><span class="line">        </span><br><span class="line">        //创建新的链表数组</span><br><span class="line">        </span><br><span class="line">        YJYLinkedArray *newLinkArray = [YJYLinkedArray array];</span><br><span class="line">        KeyValueCache *newKeyValue = [KeyValueCache key:key value:value];</span><br><span class="line">        [newLinkArray addObject:newKeyValue];</span><br><span class="line">        _keyValues[realCode] = newLinkArray;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-(id)valueForKey:(NSString *)key&#123;</span><br><span class="line">    if (!key.length) &#123;</span><br><span class="line">        return nil;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    NSUInteger hash = key.hash;</span><br><span class="line">    NSUInteger realCode = hash%(sizeof(_keyValues)/8);</span><br><span class="line">    </span><br><span class="line">    YJYLinkedArray *linkArr = _keyValues[realCode];</span><br><span class="line">    if (linkArr) &#123;</span><br><span class="line">        for (NSInteger index = 0; index &lt; linkArr.size; index ++) &#123;</span><br><span class="line">            KeyValueCache *keyValue = (KeyValueCache *)[linkArr objectAtIndex:index];</span><br><span class="line">            if ([keyValue.key isEqualToString:key]) &#123;</span><br><span class="line">                return keyValue.value;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+(instancetype)dictionary&#123;</span><br><span class="line">    return [[self alloc]init];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">YJYDictionary *dic = [YJYDictionary dictionary];</span><br><span class="line">dic setValue:@&quot;你好&quot; forKey:@&quot;note&quot;];</span><br><span class="line">[dic setValue:@&quot;大家好&quot; forKey:@&quot;you&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;, [dic valueForKey:@&quot;note&quot;]);</span><br><span class="line">NSLog(@&quot;%@&quot;, [dic valueForKey:@&quot;you&quot;]);</span><br></pre></td></tr></table></figure>
<p><strong>结果:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2018-08-27 17:15:13.387425+0800 LinkedDemo[3826:874451] 你好</span><br><span class="line">2018-08-27 17:15:13.387571+0800 LinkedDemo[3826:874451] 大家好</span><br></pre></td></tr></table></figure>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a href="https://blog.csdn.net/zixiweimi/article/details/56677203" target="_blank" rel="noopener">NSDictionary实现原理</a></p>
<p><a href="https://blog.csdn.net/linshaolie/article/details/41494303" target="_blank" rel="noopener">NSDictionary实现原理</a></p>
<p><a href="https://blog.csdn.net/codermy/article/details/71037860" target="_blank" rel="noopener">iOS - OC字典底层实现模拟(数组+链表)</a></p>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/27/2018-08-27-哈希表/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/27/2018-08-27-哈希表/" class="post-title-link" itemprop="http://yoursite.com/index.html">哈希表</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-08-27 00:00:00 / Modified: 18:33:46" itemprop="dateCreated datePublished" datetime="2018-08-27T00:00:00+08:00">2018-08-27</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h1><h3 id="哈希表的定义"><a href="#哈希表的定义" class="headerlink" title="哈希表的定义"></a>哈希表的定义</h3><blockquote>
<p><strong>哈希表</strong>(Hash table, 也叫散列表), 是根据关键码(Key value)而直接访问的数据结构. 也就是说, 它通过把关键码值映射到表中一个位置来访问记录, 以加快查找的速度. 这个映射函数叫做<strong>散列函数</strong>, 存放记录的数组叫做<strong>散列表</strong>.</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/27/2018-08-27-iOS之几种加密方式/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/27/2018-08-27-iOS之几种加密方式/" class="post-title-link" itemprop="http://yoursite.com/index.html">iOS之几种加密方式</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-08-27 00:00:00 / Modified: 12:33:30" itemprop="dateCreated datePublished" datetime="2018-08-27T00:00:00+08:00">2018-08-27</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="iOS之几种加密方式"><a href="#iOS之几种加密方式" class="headerlink" title="iOS之几种加密方式"></a>iOS之几种加密方式</h1><h3 id="常用加密算法"><a href="#常用加密算法" class="headerlink" title="常用加密算法:"></a>常用加密算法:</h3><blockquote>
<p>1.<strong>DES:</strong> Data Encrption Standard, 即数据加密算法, 它是 IBM 公司于1975年研究成功并公开发表的.</p>
<p>2.<strong>AES:</strong>高级机密标准, 这个标准用来替代原先的 DES, 已经被多方分析且广为全世界所使用. 高级加密标准依然成为对称钥加密中最流行的算法之一.</p>
<p>3.<strong>RSA:</strong> RSA加密算法是一种非对称加密算法。在公开密钥加密和电子商业中RSA被广泛使用。RSA是1977年由罗纳德·李维斯特（Ron Rivest）、阿迪·萨莫尔（Adi Shamir）和伦纳德·阿德曼（Leonard Adleman）一起提出的。当时他们三人都在麻省理工学院工作。RSA就是他们三人姓氏开头字母拼在一起组成的。</p>
<p>3.<strong>MD5:</strong> Message-Digest Algorithm 5 (信息-摘要算法5), 用于确保信息传输完整一致, 是计算机广泛使用的杂凑算法之一(又译摘要算法、哈希算法), 主流语言普遍已有 MD5 实现. </p>
<p>4.<strong>Basse64:</strong> Base64 是网络上最常见的用于传输 8bit 字节代码的编码方式之一. Base64 编码可用于在HTTP环境下传递较长的表识信息, 采用 Base64 编码具有不可读性, 即所编码的数据不会被人用肉眼所直接看到的.</p>
</blockquote>
<h3 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h3><h4 id="MD5"><a href="#MD5" class="headerlink" title="MD5"></a>MD5</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface NSString (MTEncrypt)</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  md5加密</span><br><span class="line"> */</span><br><span class="line">@property (nonatomic, copy, readonly) NSString *md5String;</span><br><span class="line">- (NSString *)mt_EncryptMD5;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;NSString+MTEncrypt.h&quot;</span><br><span class="line"></span><br><span class="line">//md5头文件</span><br><span class="line">#import &lt;CommonCrypto/CommonDigest.h&gt;</span><br><span class="line"></span><br><span class="line">@implementation NSString (MTEncrypt)</span><br><span class="line"></span><br><span class="line">-(NSString *)md5String&#123;</span><br><span class="line">    return [self mt_EncryptMD5];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)mt_EncryptMD5&#123;</span><br><span class="line">    </span><br><span class="line">    const char *cStr = self.UTF8String;</span><br><span class="line">    unsigned char digest[CC_MD5_DIGEST_LENGTH];</span><br><span class="line">    </span><br><span class="line">    CC_MD5( cStr, (CC_LONG)strlen(cStr), digest );</span><br><span class="line">    NSMutableString *result = [NSMutableString stringWithCapacity:CC_MD5_DIGEST_LENGTH * 2];</span><br><span class="line">    </span><br><span class="line">    for(int i = 0; i &lt; CC_MD5_DIGEST_LENGTH; i++)&#123;</span><br><span class="line">       [result appendFormat:@&quot;%02x&quot;, digest[i]];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Base64"><a href="#Base64" class="headerlink" title="Base64"></a>Base64</h4><p><strong>将文件加密</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 获取需要加密文件的二进制数据// 获取需要 </span><br><span class="line">    NSData *data = [NSData dataWithContentsOfFile:@&quot;/Users/YJY/Desktop/photo/IMG_5551.jpg&quot;];</span><br><span class="line"></span><br><span class="line">    // 或 base64EncodedStringWithOptions</span><br><span class="line">    NSData *base64Data = [data base64EncodedDataWithOptions:0];</span><br><span class="line"></span><br><span class="line">    // 将加密后的文件存储到桌面</span><br><span class="line">    [base64Data writeToFile:@&quot;/Users/YJY/Desktop/123&quot; atomically:YES];</span><br></pre></td></tr></table></figure>
<p><strong>将文件解密</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 获得加密后的二进制数据</span><br><span class="line">    NSData *base64Data = [NSData dataWithContentsOfFile:@&quot;/Users/YJY/Desktop/123&quot;];</span><br><span class="line"></span><br><span class="line">    // 解密 base64 数据</span><br><span class="line">    NSData *baseData = [[NSData alloc] initWithBase64EncodedData:base64Data options:0];</span><br><span class="line"></span><br><span class="line">    // 写入桌面</span><br><span class="line">    [baseData writeToFile:@&quot;/Users/YJY/Desktop/IMG_5551.jpg&quot; atomically:YES];</span><br></pre></td></tr></table></figure>
<p><strong>利用终端命令进行base64运算</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 将文件 test.png 进行 base64运算之后存储为 base64test.txt</span><br><span class="line">base64 test.png -o base64test.txt</span><br><span class="line"></span><br><span class="line">// 将mbase64test.txt 解码生成 base64test.png</span><br><span class="line">base64 -D base64test.txt -o base64test.png</span><br><span class="line"></span><br><span class="line">// 将字符串 &quot;hello&quot; 进行 base 64 编码 结果:aGVsbG8=cho &quot;hello&quot; | base64</span><br><span class="line"></span><br><span class="line">// 将 base64编码之后的结果 aGVsbG8= 反编码为字符串</span><br><span class="line">echo aGVsbG8= | base64 -D</span><br></pre></td></tr></table></figure>
<h4 id="RSA加密"><a href="#RSA加密" class="headerlink" title="RSA加密"></a>RSA加密</h4><p><strong>RSA加解密实例头文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">// RSA加密封装类</span><br><span class="line">//注意：如果使用，需要打开钥匙串；因为iOS不支持直接使用字符串格式的公钥进行加密，转换为文件后可使用</span><br><span class="line"></span><br><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface RSAEncryptor : NSObject</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  加密方法</span><br><span class="line"> *</span><br><span class="line"> *  @param str   需要加密的字符串</span><br><span class="line"> *  @param path  &apos;.der&apos;格式的公钥文件路径</span><br><span class="line"> */</span><br><span class="line">+ (NSString *)encryptString:(NSString *)str publicKeyWithContentsOfFile:(NSString *)path;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  解密方法</span><br><span class="line"> *</span><br><span class="line"> *  @param str       需要解密的字符串</span><br><span class="line"> *  @param path      &apos;.p12&apos;格式的私钥文件路径</span><br><span class="line"> *  @param password  私钥文件密码</span><br><span class="line"> */</span><br><span class="line">+ (NSString *)decryptString:(NSString *)str privateKeyWithContentsOfFile:(NSString *)path password:(NSString *)password;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  加密方法</span><br><span class="line"> *</span><br><span class="line"> *  @param str    需要加密的字符串</span><br><span class="line"> *  @param pubKey 公钥字符串</span><br><span class="line"> */</span><br><span class="line">+ (NSString *)encryptString:(NSString *)str publicKey:(NSString *)pubKey;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  解密方法</span><br><span class="line"> *</span><br><span class="line"> *  @param str     需要解密的字符串</span><br><span class="line"> *  @param privKey 私钥字符串</span><br><span class="line"> */</span><br><span class="line">+ (NSString *)decryptString:(NSString *)str privateKey:(NSString *)privKey;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">作者：CocoaFei</span><br><span class="line">链接：https://www.jianshu.com/p/54c386275c08</span><br><span class="line">來源：简书</span><br><span class="line">简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。</span><br></pre></td></tr></table></figure>
<p><strong>RSA加解密用法实例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//----------------------RSA加密示例------------------------</span><br><span class="line">//原始数据，要加密的字符串</span><br><span class="line">NSString *originalString = @&quot;这是一段将要使用&apos;秘钥字符串&apos;进行加密的字符串!&quot;;</span><br><span class="line"></span><br><span class="line">//使用字符串格式的公钥私钥加密解密, RSAPublickKey为公钥字符串(NSString格式)</span><br><span class="line">NSString *encryptStr = [RSAEncryptor encryptString:originalString publicKey:RSAPublickKey];</span><br><span class="line"></span><br><span class="line">NSLog(@&quot;加密前:%@&quot;, originalString);</span><br><span class="line">NSLog(@&quot;加密后:%@&quot;, encryptStr);</span><br><span class="line">//用私钥解密，RSAPrivateKey为私钥字符串(NSString格式)</span><br><span class="line">NSString *decryptString = [RSAEncryptor decryptString:encryptStr privateKey:RSAPrivateKey];</span><br><span class="line"></span><br><span class="line">NSLog(@&quot;解密后:%@&quot;,decryptString);</span><br><span class="line"></span><br><span class="line">作者：CocoaFei</span><br><span class="line">链接：https://www.jianshu.com/p/54c386275c08</span><br><span class="line">來源：简书</span><br><span class="line">简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/muzipiao/RSAEncrypt" target="_blank" rel="noopener">RASEncrypt</a></p>
<p><strong>注意:</strong>加密的字符串会包含一些特殊字符串, 在网络传输过程中导致转义, 进而会导致服务器解密失败.以下为转义代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//去掉特殊字符</span><br><span class="line"></span><br><span class="line">NSCharacterSet *setString = [NSCharacterSet characterSetWithCharactersInString:@&quot;@／：；（）¥「」＂、[]&#123;&#125;#%-*+=_\\|~＜＞$?^?&apos;@#$%^&amp;*()_+&apos;\&quot;&quot;];</span><br><span class="line">NSString *disposeString = [[NSString stringWithFormat:@&quot;%@&quot;,@&quot;字符串&quot;] stringByTrimmingCharactersInSet:setString];</span><br></pre></td></tr></table></figure>
<h2 id="更多参考"><a href="#更多参考" class="headerlink" title="更多参考"></a>更多参考</h2><p><a href="https://www.jianshu.com/p/8fd8306a95d0" target="_blank" rel="noopener">iOS，一行代码进行RSA、DES 、AES加密、解密及MD5加密</a></p>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/24/2018-08-24-算法-时间复杂度/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/24/2018-08-24-算法-时间复杂度/" class="post-title-link" itemprop="http://yoursite.com/index.html">算法之时间复杂度</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-08-24 00:00:00 / Modified: 14:30:41" itemprop="dateCreated datePublished" datetime="2018-08-24T00:00:00+08:00">2018-08-24</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="算法之时间复杂度"><a href="#算法之时间复杂度" class="headerlink" title="算法之时间复杂度"></a>算法之时间复杂度</h1><h2 id="1-时间复杂度在算法中"><a href="#1-时间复杂度在算法中" class="headerlink" title="1.时间复杂度在算法中"></a>1.时间复杂度在算法中</h2><p>评估算法的效率有两个指标:<strong>时间复杂度</strong>, <strong>空间复杂度</strong>.</p>
<ul>
<li><strong>时间复杂度:</strong> 评估执行程序所需的时间. 可以估算出程序对处理器的使用程度.</li>
<li><strong>空间复杂度:</strong> 评估执行程序所需的存储空间. 可以估算出程序对计算机内存的使用程度.<blockquote>
</blockquote>
</li>
</ul>
<h2 id="2-什么是时间复杂度"><a href="#2-什么是时间复杂度" class="headerlink" title="2.什么是时间复杂度"></a>2.什么是时间复杂度</h2><p>一个算法中的语句执行次数称为语句频度或<strong>时间频度</strong>,记为 T(n). n 称为问题的规模, 当 n 不断变化时, 时间频度 T(n) 也会不断变化. 但是我们想知道它变化呈现什么规律, 为此我们引入时间复杂度的概念. 一般情况下, 算法中基本操作重复执行的次数是问题规模 n 的某个函数, 用 T(n) 表示, 若有某个辅助函数 f(n), 使得当 n 趋近于无穷大时, T(n) / f(n) 的值极限值为不等于0的常数, 则称 f(n) 是 T(n) 的同数量级函数, 计作 T(n) = O(f(n)), 它称为算法的渐进时间复杂度, 简称<strong>时间复杂度</strong>.</p>
<h2 id="3-时间复杂度怎么计算"><a href="#3-时间复杂度怎么计算" class="headerlink" title="3.时间复杂度怎么计算"></a>3.时间复杂度怎么计算</h2><p>前面用 O() 来体现算法时间复杂度的记法, 称为<strong>大 O 表示法</strong>.<br>大 O 表示法 O(f(n)) 中 f(n) 的值可以为1、n、logn、n^2等, 因此我们可以将 O(1)、O(n)、O(logn)、O(n^2)分别称为常数阶、线性阶、对数阶和平方阶.</p>
<h3 id="推导大O阶"><a href="#推导大O阶" class="headerlink" title="推导大O阶"></a>推导大O阶</h3><p>1.用常数1取代运行时间中所有加法常数;</p>
<p>2.修改后的运行次数函数中, 只保留最高阶项;</p>
<p>3.如果最高阶项在且不是1, 则去除这个项项相乘的常数</p>
<h2 id="4-时间复杂度有哪些"><a href="#4-时间复杂度有哪些" class="headerlink" title="4.时间复杂度有哪些"></a>4.时间复杂度有哪些</h2><p>一般时间复杂度有:<strong>常数阶</strong>、<strong>线性阶</strong>、<strong>对数阶</strong>、<strong>平方阶</strong></p>
<h3 id="常数阶"><a href="#常数阶" class="headerlink" title="常数阶"></a>常数阶</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int sum = 0, n = 100; // 执行一次</span><br><span class="line">sum = (1+n)*n/2;      //执行一次</span><br><span class="line">print(sum);           //执行一次</span><br></pre></td></tr></table></figure>
<p>上面算法的运行次数的函数为 f(n) = 3, 根据推导大O阶的规则1, 我门将常数3改为1, 则这个算法的时间复杂度为 O(1). 如果<code>sum = (1+n)*n/2;</code> 这条语句再执行10遍, 因为这与问题大小 n 的值并没有关系, 所以这个算法的时间复杂度仍为O(1), 我们称之为常数阶.</p>
<h3 id="线性阶"><a href="#线性阶" class="headerlink" title="线性阶"></a>线性阶</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for(int i=0, i&lt;n, i++)&#123;</span><br><span class="line">	//时间复杂度为 O(1) 的算法</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的算法循环体现在代码执行了 n 次, 因此时间复杂度为 O(n).</p>
<h3 id="对数阶"><a href="#对数阶" class="headerlink" title="对数阶"></a>对数阶</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">int number = 1;</span><br><span class="line">while (number &lt; n)&#123;</span><br><span class="line">	numner = number * 2;</span><br><span class="line">	//时间复杂度为 O(1) 的算法</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>随着 number 每次乘以2后, 会越来越接近 n, 当 number 不小于 n 时就会推出循环. 假设循环次数为 X, 则有 2^x = n 得出 x = log2n, 因此这个算法的时间复杂度为O(logn).</p>
<h3 id="平方阶"><a href="#平方阶" class="headerlink" title="平方阶"></a>平方阶</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for(int i=0, i&lt;n, i++)&#123;</span><br><span class="line">	for(int j=i, j&lt;n, j++)&#123;</span><br><span class="line">		//时间复杂度为 O(1) 的算法</span><br><span class="line">		...</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>内部循环的时间复杂度在讲到线性阶时已知为 O(n), 现在经过外层循环 n 次, 那么这段算法的时间复杂度为 O(n^2).</p>
<p><strong>推导:</strong><br>内循环中 <code>int j=i</code>, 而不是<code>j=0</code>, 当<code>i=0</code>时, 内循环执行了 n 次; 当<code>i=1</code>时, 循环执行了<code>n-1</code>次, 当<code>i=n-1</code>时, 内循环执行了<code>1</code>次, 以此类推可以得出内外循环执行次数:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">n+(n-1)+(n-2)+(n-3)+...+1</span><br><span class="line"> =(n+1)+[(n-1)+2]+[(n-2)+3]+[(n-3)+4]+...+(n+1)/2</span><br><span class="line"> =(n+1)*n/2</span><br><span class="line"> =(n^2+n)/2</span><br><span class="line"> =n^2/2+n/2</span><br></pre></td></tr></table></figure>
<p>根据推导大O阶的规则的第二条:只保留n^2/2,根据第三天去掉这个项的常数, 则去掉1/2, 最终得出时间复杂度为O(n^2).</p>
<h3 id="其他常见的复杂度"><a href="#其他常见的复杂度" class="headerlink" title="其他常见的复杂度"></a>其他常见的复杂度</h3><p>除了常数阶、线性阶、平方阶、对数阶, 还有如下的时间复杂度:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">f(n) = nlog , 时间复杂度为 O(nlogn), 可以称为 nlogn 阶;</span><br><span class="line">f(n) = n^3  , 时间复杂度为 O(n^3), 称为 n^3 阶;</span><br><span class="line">f(n) = 2^n  , 时间复杂度为 O(2^n), 称为 2^n 阶;</span><br><span class="line">f(n) = n!   , 时间复杂度为 O(n!),  称为 n! 阶;</span><br><span class="line">f(n) = √n.  , 时间复杂度为 O(√n), 称为平方根阶.</span><br></pre></td></tr></table></figure>
<h2 id="复杂度的比较"><a href="#复杂度的比较" class="headerlink" title="复杂度的比较"></a>复杂度的比较</h2><table>
<thead>
<tr>
<th style="text-align:center">n</th>
<th style="text-align:center">logn</th>
<th style="text-align:center">√n</th>
<th style="text-align:center">nlogn</th>
<th style="text-align:center">n^2</th>
<th style="text-align:center">2^n</th>
<th style="text-align:left">n!</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
<td style="text-align:center">10</td>
<td style="text-align:center">25</td>
<td style="text-align:center">32</td>
<td style="text-align:left">120</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">3</td>
<td style="text-align:center">3</td>
<td style="text-align:center">30</td>
<td style="text-align:center">100</td>
<td style="text-align:center">1032</td>
<td style="text-align:left">3628800</td>
</tr>
<tr>
<td style="text-align:center">50</td>
<td style="text-align:center">5</td>
<td style="text-align:center">7</td>
<td style="text-align:center">250</td>
<td style="text-align:center">2500</td>
<td style="text-align:center">约10^15</td>
<td style="text-align:left">约3.0*10^64</td>
</tr>
<tr>
<td style="text-align:center">100</td>
<td style="text-align:center">6</td>
<td style="text-align:center">10</td>
<td style="text-align:center">600</td>
<td style="text-align:center">10000</td>
<td style="text-align:center">约10^30</td>
<td style="text-align:left">约9.3*10^157</td>
</tr>
<tr>
<td style="text-align:center">1000</td>
<td style="text-align:center">9</td>
<td style="text-align:center">31</td>
<td style="text-align:center">9000</td>
<td style="text-align:center">1000000</td>
<td style="text-align:center">约10^15</td>
<td style="text-align:left">约3.0*10^64</td>
</tr>
</tbody>
</table>
<p>由上表可以看出 O(n)、O(logn)、O(√n)、O(nlogn)随着 n 的增加, 复杂度提升不大, 因此这些复杂度属于效率高的算法, 反而 O(2^n)、O(n!)当 n 增加到50时, 复杂度突破十位数了, 这种效率差的复杂度最好不要出现在程序中, 因此在动手编写程序时要评估所写算法的最坏情况的复杂度.</p>
<p><img src="/img/算法/算法比较.png" alt=""></p>
<p>常用的时间复杂度按照耗时的时间大小依次是:</p>
<p><code>O(1) &lt; O(logn) &lt; O(n) O(nlogn) &lt; O(n^2) &lt; O(n^3) &lt; O(2^2) &lt; O(n!)</code></p>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/24/2018-08-24-算法之常用数据结构/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="耀敬业">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="耀敬业">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/24/2018-08-24-算法之常用数据结构/" class="post-title-link" itemprop="http://yoursite.com/index.html">算法之常用数据结构</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-08-24 00:00:00 / Modified: 17:56:08" itemprop="dateCreated datePublished" datetime="2018-08-24T00:00:00+08:00">2018-08-24</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="算法之常用数据结构"><a href="#算法之常用数据结构" class="headerlink" title="算法之常用数据结构"></a>算法之常用数据结构</h1><h2 id="通用数据结构"><a href="#通用数据结构" class="headerlink" title="通用数据结构"></a>通用数据结构</h2><p>可简单地按照速度将通用数据结构划分为: <strong>数组</strong>和<strong>链表</strong>(最慢)、<strong>树</strong>(较快)、<strong>哈希表</strong>(最快).<br><strong>增、删、改、查</strong>是四大常见操作, 可浓缩为两个操作:增和查.<br>删除操作和修改操作都是建立在查找操作上的, 所以完美的数据结构应该是具有较高的插入效率和查找效率.</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><p>数组在以下三个情形很有用:</p>
<ul>
<li>数据量小</li>
<li>数据规模已知</li>
<li>随机访问, 修改元素值</li>
</ul>
<p>如果插入速度很重要, 选择无序数组. 如果查找速度很重要, 选择有序数组, 并使用二分查找.</p>
<p><strong>缺点</strong></p>
<ul>
<li>需要预知数据规模</li>
<li>插入效率低, 因为需要移动大量元素</li>
</ul>
<h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><blockquote>
<p>链表是一种物理存储单元上非连续、非顺序的存储结构, 数据元素的逻辑顺序是通过链表中的指针链接次序实现的. 链表由一系列结点(链表中每一个元素都称为结点)组成, 结点可以在运作时动态生成. 每个结点包括两个部分: 一个存储数据元素的数据域, 另一个存储存储下一个结点的指针域. 相比于线性表顺序结构, 操作复杂. 由于不必要按顺序存储, 链表在插入的时候可以达到<code>O(1)</code>的复杂度, 比另一种线性顺序表快得多, 但是查找一个节点或者访问特定编号的节点则需要<code>O(n)</code>的时间, 而线性表和顺序表相应的时间复杂度分别是<code>O(logn)</code>和<code>O(1)</code>.</p>
</blockquote>
<h3 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h3><p>链表的出现解决了数组的两个问题:</p>
<ul>
<li>需要预知数据规模</li>
<li>插入效率低</li>
</ul>
<h3 id="使用场景-1"><a href="#使用场景-1" class="headerlink" title="使用场景"></a>使用场景</h3><ul>
<li>数据量小</li>
<li>不需要预知数据规模</li>
<li>适用于频繁的插入操作</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>有序数组可以通过二分查找方法具有很高的查找效率(<code>O(logn)</code>), 二链表只能使用顺序查找, 效率低于(<code>O(n)</code>).</li>
</ul>
<h2 id="二叉查找树"><a href="#二叉查找树" class="headerlink" title="二叉查找树"></a>二叉查找树</h2><h3 id="解决的问题-1"><a href="#解决的问题-1" class="headerlink" title="解决的问题"></a>解决的问题</h3><ul>
<li>有序数组具有较高的查找效率(<code>O(logn)</code>), 而链表具有较高的插入效率(<code>头插法, O(1)</code>), 结合这两种数据结构, 创建一种貌似完美的数据结构, 也就是二叉查找树.</li>
</ul>
<h3 id="使用场景-2"><a href="#使用场景-2" class="headerlink" title="使用场景"></a>使用场景</h3><ul>
<li>数据是随机分布的</li>
<li>数据量较大</li>
<li><p>频繁的查找和插入操作(可以提供<code>O(logn)</code>级的查找、插入和删除操作);</p>
<p><strong>缺点</strong></p>
<p>如果处理的数据是有序的(升序/降序), 那么构造的二叉查找树就会只左子树(或右子树), 也就是退化为链表, 查找效率低下(<code>O(logn)</code>).</p>
</li>
</ul>
<h2 id="平衡树"><a href="#平衡树" class="headerlink" title="平衡树"></a>平衡树</h2><h3 id="解决的问题-2"><a href="#解决的问题-2" class="headerlink" title="解决的问题"></a>解决的问题</h3><p> 针对二叉查找树可能会退化为链表的情况, 提出了平衡树, 平衡树要求任意节点的左右两个子树的高度差不超过1, 避免退化为链表的情况.</p>
<h3 id="使用场景-3"><a href="#使用场景-3" class="headerlink" title="使用场景"></a>使用场景</h3><ul>
<li>无论数据分布是否随机都可以提供<code>O(logn)</code>级别的查找、插入和删除效率</li>
<li><p>数据量较大</p>
<p><strong>缺点</strong></p>
</li>
<li>平衡树的实现过于复杂.</li>
</ul>
<h2 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h2><h3 id="解决的问题-3"><a href="#解决的问题-3" class="headerlink" title="解决的问题"></a>解决的问题</h3><p>同平衡树一样, 哈希表也不要求数据分布是否随机, 不过哈希表的实现比平衡树要简单得多.</p>
<h3 id="使用场景-4"><a href="#使用场景-4" class="headerlink" title="使用场景"></a>使用场景</h3><ul>
<li>不要求对最大最小值存取</li>
<li>无论数据分布是否随机, 理想情况下(无冲突)可以提供<code>O(1)</code>级别的插入、查找和删除效率.</li>
<li>数据量大</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>由于是基于数组的, 数组(哈希表)创建难以拓展, 使用开发地址法的哈希表在基本被填满时, 性能下降的非常严重.</li>
<li>不能对最大最小值存取</li>
</ul>
<h2 id="专用数据结构"><a href="#专用数据结构" class="headerlink" title="专用数据结构"></a>专用数据结构</h2><h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><h4 id="顺序栈"><a href="#顺序栈" class="headerlink" title="顺序栈"></a>顺序栈</h4><p><strong>优点</strong></p>
<ul>
<li>在输入数据量可预知的情形下, 可以使用数组实现栈, 并且数组实现的栈效率更高, 出栈和入栈操作都是在数组末尾完成.</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>如果对数组大小创建不当, 可能会产生栈溢出的情况</li>
</ul>
<h4 id="链栈"><a href="#链栈" class="headerlink" title="链栈"></a>链栈</h4><p><strong>优点</strong></p>
<ul>
<li>不会发生栈溢出的情况</li>
<li>输入数据量未知时, 使用栈链. 通过头插法实现入栈操作, 头删法实现出栈操作. 出栈和入栈均是<code>O(1)</code>.</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>由于入栈时, 首先要创建插入的节点, 要向操作系统申请内存, 所以链栈没有顺序栈效率高.</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.cnblogs.com/lz3018/p/5932198.html" target="_blank" rel="noopener">常见数据结构应用场景</a></p>

          
        
      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">耀敬业</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">10</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">耀敬业</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v6.5.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.5.0"></script>



  



  










  





  

  

  

  

  

  
  

  

  

  

  

  

  

</body>
</html>
